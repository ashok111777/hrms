<div class="cgs-container">
    <div class="c-card border">
        <mat-toolbar class="bg-white text-primary border-bottom">
            <mat-icon>badge</mat-icon>
            <span class="c-font ps-2">Employee Detail</span>
            <span class="spacer"></span>
            <button mat-stroked-button (click)="closeEmpDetail($event)" color="accent">
                Back
            </button>
        </mat-toolbar>
        <div class="bg-white">
            <mat-tab-group [(selectedIndex)]="selectedTabIndex">
                <mat-tab label="Personal Detail" id="tab1">
                    <div class="p-3 border-top">
                        <form [formGroup]="personalDetailForm">
                            <div class="row">
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Emp id</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Employee Id"
                                            (keypress)="numberOnly($event)" formControlName="employeeId"
                                            name="employeeId" [readonly]="data.mode==='V' || data.mode==='E'">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>First Name</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Employee First Name"
                                            formControlName="firstName" name="firstName" [readonly]="data.mode==='V'">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Last Name</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Employee Last Name"
                                            formControlName="lastName" name="lastName" [readonly]="data.mode==='V'">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Father/Husband Name</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Father/Husband Name"
                                            formControlName="guardianName" name="guardianName"
                                            [readonly]="data.mode==='V'">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Mother Name</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Mother Name"
                                            formControlName="motherName" name="motherName" [readonly]="data.mode==='V'">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Gender</mat-label>
                                        <mat-select required formControlName="gender" name="gender"
                                            [readonly]="data.mode==='V'">
                                            <mat-option value="FEMALE">Female</mat-option>
                                            <mat-option value="MALE">Male</mat-option>
                                            <mat-option value="OTHER">Other</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <!-- <mat-form-field class="full-width">
                                        <mat-label>DOB</mat-label>
                                        <input matInput [matDatepicker]="dobDatePicker" placeholder="Employee DOB"
                                             [readonly]="data.mode==='V'" formControlName="dob" (keypress)="numberOnly($event)"
                                            name="dob">
                                        <mat-icon matSuffix (click)="dobDatePicker.open()">calendar_month</mat-icon>
                                        <mat-datepicker #dobDatePicker></mat-datepicker>
                                    </mat-form-field> -->
                                    <mat-form-field class="full-width">
                                        <mat-label>Date of Birth:</mat-label>
                                        <input matInput [matDatepicker]="dobPicker" formControlName="dob"
                                            (keypress)="numberOnly($event)">
                                        <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
                                        <mat-datepicker #dobPicker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Mobile Number</mat-label>
                                        <input matInput autocomplete="off" placeholder="Enter Mobile Number"
                                            [readonly]="data.mode==='V'" formControlName="mobileNo" name="mobileNo"
                                            (keypress)="numberOnly($event)" maxlength="10">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Email ID</mat-label>
                                        <input type="email" matInput autocomplete="off" placeholder="Enter Email ID"
                                            [readonly]="data.mode==='V'" formControlName="emailId" name="emailId"
                                            maxlength="50">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="full-width text-center" *ngIf="data.mode !=='V'">
                                <!-- <button type="reset" mat-stroked-button color="accent" class="md-btn"> Reset </button> -->
                                <button type="submit" mat-raised-button color="primary" class="md-btn"
                                    (click)="goToNextTab()"> Next </button>
                            </div>
                        </form>
                    </div>
                </mat-tab>
                <mat-tab label="Residence Detail" id="tab2">
                    <div class="p-3 border-top">
                        <form [formGroup]="residenceDetailForm">
                            <div class="row">
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Country</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Select Country"
                                            [readonly]="data.mode==='V'" formControlName="country" name="country"
                                            [matAutocomplete]="country">
                                        <mat-autocomplete autoActiveFirstOption #country="matAutocomplete"
                                            (optionSelected)="updateState(country)">
                                            <mat-option *ngFor="let ct of filteredCountry | async" [value]="ct">
                                                {{ct.name}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>State</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Enter State"
                                            [readonly]="data.mode==='V'" formControlName="state" name="state"
                                            [matAutocomplete]="auto">
                                        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                            <mat-option *ngFor="let st of filteredOptions | async" [value]="st">
                                                {{st}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Zip Code</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Zip/Pin Code"
                                            [readonly]="data.mode==='V'" formControlName="pinCode" name="pinCode"
                                            (keypress)="numberOnly($event)">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>District</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="District"
                                            [readonly]="data.mode==='V'" formControlName="district" name="district">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>City</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="City"
                                            [readonly]="data.mode==='V'" formControlName="city" name="city">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Door No./Street</mat-label>
                                        <input type="text" matInput autocomplete="off"
                                            placeholder="Enter Door No. / Street" formControlName="street"
                                            [readonly]="data.mode==='V'" name="street">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Village</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Village"
                                            [readonly]="data.mode==='V'" formControlName="village" name="village">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <div class="right-stick-box">
                                        <mat-label>Communication Address is same as Residential Address?</mat-label>
                                        <mat-slide-toggle formControlName="residentialAddressCheck" class="right-stick"
                                            (ngModelChange)="changeCommunicationAddress($event)">
                                        </mat-slide-toggle>
                                    </div>
                                </div>
                            </div><br>
                            <label *ngIf="showCommunicationAddress">
                                <h3 class="m-0 p-0"><span>Communication Address</span></h3>
                            </label>
                            <div class="row" *ngIf="showCommunicationAddress">
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Door No./Street</mat-label>
                                        <input type="text" matInput autocomplete="off"
                                            placeholder="Enter Door No. / Street" formControlName="street"
                                            [readonly]="data.mode==='V'">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Village</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Village"
                                            [readonly]="data.mode==='V'" formControlName="village" name="village">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>City</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="City"
                                            [readonly]="data.mode==='V'" formControlName="city" name="city">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>District</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="District"
                                            [readonly]="data.mode==='V'" formControlName="district" name="district">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>State</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Enter State"
                                            [readonly]="data.mode==='V'" formControlName="state" name="state"
                                            [matAutocomplete]="cState">
                                        <mat-autocomplete autoActiveFirstOption #cState="matAutocomplete">
                                            <mat-option *ngFor="let st of filteredOptions | async" [value]="st">
                                                {{st}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Zip Code</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Zip/Pin Code"
                                            [readonly]="data.mode==='V'" formControlName="pinCode" name="pinCode"
                                            (keypress)="numberOnly($event)">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Country</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Select Country"
                                            [readonly]="data.mode==='V'" formControlName="country" name="country">
                                        <!-- <input type="text" matInput autocomplete="off" placeholder="Enter Country"
                                            formControlName="country" name="country" [matAutocomplete]="country">
                                        <mat-autocomplete autoActiveFirstOption #country="matAutocomplete">
                                            <mat-option *ngFor="let ct of filteredCountry | async" [value]="ct.name">
                                                {{ct.name}}
                                            </mat-option>
                                        </mat-autocomplete> -->
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="full-width text-center" *ngIf="data.mode !=='V'">
                                <button type="reset" mat-stroked-button color="primary" class="md-btn"
                                    (click)="goToPreviousTab()">
                                    Back
                                </button>
                                <button type="submit" mat-raised-button color="primary" class="md-btn"
                                    (click)="goToNextTab()">
                                    Next
                                </button>
                            </div>
                        </form>
                    </div>
                </mat-tab>

                <mat-tab label="Professional Detail" id="tab3">
                    <div class="p-3 border-top">
                        <form [formGroup]="professionalDetailForm">
                            <div class="row">
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Department</mat-label>
                                        <mat-select required formControlName="teamName" name="teamName"
                                            [readonly]="data.mode==='V'">
                                            <mat-option *ngFor="let d of departmentList" [value]="d.id">
                                                {{d.teamName}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <!-- <mat-form-field class="full-width">
                                        <mat-label>Date of joining</mat-label>
                                        <input matInput [matDatepicker]="dojDatePicker" placeholder="Date of joining"
                                          [readonly]="data.mode==='V'" formControlName="doj"
                                            name="doj">

                                        <mat-icon matSuffix (click)="dojDatePicker.open()">calendar_month</mat-icon>
                                        <mat-datepicker #dojDatePicker></mat-datepicker>
                                    </mat-form-field> -->
                                    <mat-form-field class="full-width">
                                        <mat-label>Date of Confirmation</mat-label>
                                        <input matInput [matDatepicker]="docPicker" formControlName="doc"
                                            (keypress)="numberOnly($event)">
                                        <mat-datepicker-toggle matSuffix [for]="docPicker"></mat-datepicker-toggle>
                                        <mat-datepicker #docPicker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <!-- <mat-form-field class="full-width">
                                        <mat-label>Date of Confirmation</mat-label>
                                        <input matInput [matDatepicker]="docDatePicker" (keypress)="numberOnly($event)"
                                            placeholder="Date of confirmation" formControlName="doc" name="doc"
                                            [readonly]="data.mode==='V'">

                                        <mat-icon matSuffix (click)="docDatePicker.open()">calendar_month</mat-icon>
                                        <mat-datepicker #docDatePicker></mat-datepicker>
                                    </mat-form-field> -->
                                    <mat-form-field class="full-width">
                                        <mat-label>Date of joining</mat-label>
                                        <input matInput [matDatepicker]="dojPicker" formControlName="doj"
                                            (keypress)="numberOnly($event)">
                                        <mat-datepicker-toggle matSuffix [for]="dojPicker"></mat-datepicker-toggle>
                                        <mat-datepicker #dojPicker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>qualifications</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="qualifications"
                                            [readonly]="data.mode==='V'" formControlName="qualifications"
                                            name="qualifications">

                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Designation</mat-label>
                                        <mat-select required formControlName="designation" name="designation"
                                            [readonly]="data.mode==='V'">
                                            <mat-option *ngFor="let d of desiganation" [value]="d.id">
                                                {{d.designation}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Employee Type</mat-label>
                                        <mat-select required formControlName="empType" name="empType"
                                            [readonly]="data.mode==='V'" (valueChange)="employmentTypeChanged($event)">

                                            <mat-option value="FRESHER">Fresher</mat-option>
                                            <mat-option value="EXPERIENCE">Experience</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label> Experience</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder=" experience"
                                            (keypress)="numberOnly($event)" [readonly]="data.mode==='V'"
                                            formControlName="experience" name="experience">

                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12" *ngIf="showPreviousExp">
                                    <mat-form-field class="full-width">
                                        <mat-label>Previous Experience</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Previous Experience"
                                            (keypress)="numberOnly($event)" [readonly]="data.mode==='V'"
                                            formControlName="PreviousExperience" name="PreviousExperience">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12" *ngIf="showPreviousExp">
                                    <mat-form-field class="full-width">
                                        <mat-label>Previous designation</mat-label>
                                        <mat-select formControlName="PreviousDesignation" name="PreviousDesignation">
                                            <mat-option *ngFor="let d of desiganation" [value]="d.id">
                                                {{d.designation}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12" *ngIf="showPreviousExp;">
                                    <mat-form-field class="full-width">
                                        <mat-label>Previous Employer</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Previous Employer"
                                            [readonly]="data.mode==='V'" formControlName="PreviousEmployer"
                                            name="PreviousEmployer">
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Work loaction</mat-label>
                                        <input type="text" matInput autocomplete="off" placeholder="Work loaction"
                                            [readonly]="data.mode==='V'" formControlName="Workloaction"
                                            name="Workloaction">

                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Geography</mat-label>
                                        <mat-select required formControlName="Geography" name="Geography"
                                            [readonly]="data.mode==='V'">
                                            <mat-option value="SOUTH">South</mat-option>
                                            <mat-option value="NORTH">North</mat-option>
                                            <mat-option value="WEST">West</mat-option>
                                            <mat-option value="EAST">East</mat-option>
                                        </mat-select>
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <!-- <mat-form-field class="full-width">
                                        <mat-label>Addition/Replacement</mat-label>
                                        <mat-select required formControlName="AdditionReplacement"
                                            name="AdditionReplacement">
                                            <mat-option value="ADDITION">ADDITION</mat-option>
                                            <mat-option value="REPLACEMENT">REPLACEMENT</mat-option>
                                        </mat-select>
                                        <mat-hint></mat-hint>
                                    </mat-form-field> -->
                                    <mat-form-field class="full-width">
                                        <mat-label>Addition/Replacement</mat-label>
                                        <mat-select required formControlName="requirementType" name="requirementType">
                                            <mat-option value="ADDITION">ADDITION</mat-option>
                                            <mat-option value="REPLACEMENT">REPLACEMENT</mat-option>
                                        </mat-select>
                                        <mat-hint></mat-hint>
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>Category</mat-label>
                                        <mat-select required formControlName="Category" name="Category"
                                            [readonly]="data.mode==='V'">
                                            <mat-option value="C1">Category:1</mat-option>
                                            <mat-option value="C2">Category:2</mat-option>
                                            <mat-option value="C3">Category:3</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="full-width text-center" *ngIf="data.mode !=='V'">
                                <button type="button" mat-stroked-button color="primary" class="md-btn"
                                    (click)="goToPreviousTab()">
                                    Back
                                </button>
                                <button type="submit" (click)="update()" mat-raised-button color="primary"
                                    class="md-btn ">
                                    Submit
                                </button>
                            </div>
                        </form>
                    </div>
                </mat-tab>
                <!-- <mat-tab label="Profile Picture">
                    <div class="p-3 border-top">
                        <div class="row" *ngIf="data.mode ==='V'">
                            <div class="col-12">
                                <div>
                                    <div class="image">
                                        <img [src]="previewUrl" *ngIf="previewUrl" class="rounded mx-auto d-block src">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form>
                            <div class="row" *ngIf="data.mode !=='V'">
                                <label>
                                    <h3 class="m-0 p-0"><span>Upload Photo</span></h3>
                                </label>
                                <div class="col-lg-4">
                                    <div class="img-box">
                                        <img [src]="previewUrl" class="img-placeholder" *ngIf="previewUrl">
                                    </div>
                                </div>
                                <div class="col-lg-8">
                                    <div class="drag-drop-box">
                                        <div style="text-align:center">
                                            <div class="input_container">
                                                <input type="file" id="fileUpload" (change)="onFileSelected($event)">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </mat-tab> -->
            </mat-tab-group>
        </div>
    </div>
</div>